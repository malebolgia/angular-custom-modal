{"version":3,"file":"angular-custom-modal.mjs","sources":["../../src/modal.component.ts","../../src/modal.component.html","../../src/modal.module.ts","../../src/angular-custom-modal.ts"],"sourcesContent":["/* tslint:disable:component-selector */\n\nimport {\n  Component,\n  OnDestroy,\n  ContentChild,\n  ElementRef,\n  TemplateRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Input,\n  HostListener,\n} from '@angular/core';\n\n@Component({\n  selector: 'modal',\n  templateUrl: 'modal.component.html',\n  styleUrls: ['modal.component.scss'],\n})\nexport class ModalComponent implements OnDestroy {\n  @ContentChild('modalHeader') header: TemplateRef<any>;\n  @ContentChild('modalBody') body: TemplateRef<any>;\n  @ContentChild('modalFooter') footer: TemplateRef<any>;\n  @Input() closeOnOutsideClick = true;\n\n  visible = false;\n  visibleAnimate = false;\n\n  constructor(\n    private elementRef: ElementRef,\n    private changeDetectorRef: ChangeDetectorRef\n  ) { }\n\n  ngOnDestroy() {\n    // Prevent modal from not executing its closing actions if the user navigated away (for example,\n    // through a link).\n    this.close();\n  }\n\n  open(): void {\n    document.body.classList.add('modal-open');\n\n    this.visible = true;\n    setTimeout(() => {\n      this.visibleAnimate = true;\n    });\n  }\n\n  close(): void {\n    document.body.classList.remove('modal-open');\n\n    this.visibleAnimate = false;\n    setTimeout(() => {\n      this.visible = false;\n      this.changeDetectorRef.markForCheck();\n    }, 200);\n  }\n\n  @HostListener('click', ['$event'])\n  onContainerClicked(event: MouseEvent): void {\n    if ((<HTMLElement>event.target).classList.contains('modal') && this.isTopMost() && this.closeOnOutsideClick) {\n      this.close();\n    }\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  onKeyDownHandler(event: KeyboardEvent) {\n    // If ESC key and TOP MOST modal, close it.\n    if (event.key === 'Escape' && this.isTopMost()) {\n      this.close();\n    }\n  }\n\n  /**\n   * Returns true if this modal is the top most modal.\n   */\n  isTopMost(): boolean {\n    return !this.elementRef.nativeElement.querySelector(':scope modal > .modal');\n  }\n}\n","<div \n  class=\"modal fade\"\n  role=\"dialog\"\n  tabindex=\"-1\"\n  [class.in]=\"visibleAnimate\"\n  *ngIf=\"visible\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <ng-container *ngTemplateOutlet=\"header\"></ng-container>\n        <button class=\"close\" data-dismiss=\"modal\" type=\"button\" aria-label=\"Close\" (click)=\"close()\">Ã—</button>\n      </div>\n      <div class=\"modal-body\">\n        <ng-container *ngTemplateOutlet=\"body\"></ng-container>\n      </div>\n      <div class=\"modal-footer\">\n        <ng-container *ngTemplateOutlet=\"footer\"></ng-container>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ModalComponent } from './modal.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  exports: [ModalComponent],\n  declarations: [ModalComponent],\n  providers: [],\n})\nexport class ModalModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;AAAA;MAmBa,cAAc,CAAA;AAUf,IAAA,UAAA,CAAA;AACA,IAAA,iBAAA,CAAA;AAVmB,IAAA,MAAM,CAAmB;AAC3B,IAAA,IAAI,CAAmB;AACrB,IAAA,MAAM,CAAmB;IAC7C,mBAAmB,GAAG,IAAI,CAAC;IAEpC,OAAO,GAAG,KAAK,CAAC;IAChB,cAAc,GAAG,KAAK,CAAC;IAEvB,WACU,CAAA,UAAsB,EACtB,iBAAoC,EAAA;QADpC,IAAU,CAAA,UAAA,GAAV,UAAU,CAAY;QACtB,IAAiB,CAAA,iBAAA,GAAjB,iBAAiB,CAAmB;KACzC;IAEL,WAAW,GAAA;;;QAGT,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAED,IAAI,GAAA;QACF,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAE1C,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,UAAU,CAAC,MAAK;AACd,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC7B,SAAC,CAAC,CAAC;KACJ;IAED,KAAK,GAAA;QACH,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AAE7C,QAAA,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,UAAU,CAAC,MAAK;AACd,YAAA,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,YAAA,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;SACvC,EAAE,GAAG,CAAC,CAAC;KACT;AAGD,IAAA,kBAAkB,CAAC,KAAiB,EAAA;QAClC,IAAkB,KAAK,CAAC,MAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC3G,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;KACF;AAGD,IAAA,gBAAgB,CAAC,KAAoB,EAAA;;QAEnC,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YAC9C,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;KACF;AAED;;AAEG;IACH,SAAS,GAAA;QACP,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;KAC9E;uGA3DU,cAAc,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,iBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAd,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,cAAc,oeCnB3B,8rBAqBA,EAAA,MAAA,EAAA,CAAA,uMAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,UAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,QAAA,EAAA,oBAAA,EAAA,MAAA,EAAA,CAAA,yBAAA,EAAA,kBAAA,EAAA,0BAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;2FDFa,cAAc,EAAA,UAAA,EAAA,CAAA;kBAL1B,SAAS;+BACE,OAAO,EAAA,QAAA,EAAA,8rBAAA,EAAA,MAAA,EAAA,CAAA,uMAAA,CAAA,EAAA,CAAA;+GAKY,MAAM,EAAA,CAAA;sBAAlC,YAAY;uBAAC,aAAa,CAAA;gBACA,IAAI,EAAA,CAAA;sBAA9B,YAAY;uBAAC,WAAW,CAAA;gBACI,MAAM,EAAA,CAAA;sBAAlC,YAAY;uBAAC,aAAa,CAAA;gBAClB,mBAAmB,EAAA,CAAA;sBAA3B,KAAK;gBAoCN,kBAAkB,EAAA,CAAA;sBADjB,YAAY;uBAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAA;gBAQjC,gBAAgB,EAAA,CAAA;sBADf,YAAY;uBAAC,kBAAkB,EAAE,CAAC,QAAQ,CAAC,CAAA;;;MEpDjC,WAAW,CAAA;uGAAX,WAAW,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AAAX,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,EAHP,YAAA,EAAA,CAAA,cAAc,CAH3B,EAAA,OAAA,EAAA,CAAA,YAAY,aAEJ,cAAc,CAAA,EAAA,CAAA,CAAA;AAIb,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAW,YANpB,YAAY,CAAA,EAAA,CAAA,CAAA;;2FAMH,WAAW,EAAA,UAAA,EAAA,CAAA;kBARvB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,OAAO,EAAE;wBACP,YAAY;AACb,qBAAA;oBACD,OAAO,EAAE,CAAC,cAAc,CAAC;oBACzB,YAAY,EAAE,CAAC,cAAc,CAAC;AAC9B,oBAAA,SAAS,EAAE,EAAE;AACd,iBAAA,CAAA;;;ACZD;;AAEG;;;;"}